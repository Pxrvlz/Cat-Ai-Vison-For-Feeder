 ## About The Project 
 
 <div align="center">
  <img src="https://img.freepik.com/free-photo/close-up-adorable-cat-looking-camera_23-2150782399.jpg" alt="Cat AI" width="600">
 </div>
 
 <div dir="rtl"> 
 
 ## معرفی 
 پروژه **Cat Ai Vison For Feeder** یک سیستم هوشمند برای غذا دهنده حیوانات خانگی است که با استفاده از تکنولوژی‌های هوش مصنوعی و بینایی ماشین توسعه داده شده است. این برنامه قابلیت تشخیص گربه‌ها، شناسایی هویت آن‌ها (تمایز بین گربه‌های مختلف) و تخمین فاصله آن‌ها تا ظرف غذا را دارد. 
 
 هدف اصلی این پروژه این است که تنها زمانی که گربه مورد نظر (گربه A یا B) به ظرف غذا نزدیک می‌شود، درب ظرف باز شود.
 
 ## نیازمندی‌ها 
 برای اجرای این پروژه به موارد زیر نیاز دارید: 
 - **Python 3.10** یا نسخه‌های بالاتر 
 - **Webcam** (دوربین لپ‌تاپ یا اکسترنال)
 - **کارت گرافیک NVIDIA** (پیشنهادی برای سرعت بالاتر با CUDA)
 - کتابخانه‌های مورد نیاز (در فایل `requirements.txt` موجود است)
 
 ## مراحل نصب 
 
 ### 1. آماده‌سازی محیط 
 ابتدا مطمئن شوید که پایتون روی سیستم شما نصب است. سپس پروژه را در یک پوشه باز کنید.
 
 ### 2. نصب کتابخانه‌ها 
 برای نصب پیش‌نیازها، دستور زیر را در ترمینال اجرا کنید:
 
 ```bash 
 pip install -r requirements.txt 
 ``` 
 
 ### 3. فعال‌سازی شتاب‌دهنده گرافیکی (GPU) 
 اگر کارت گرافیک NVIDIA دارید، برای عملکرد بهتر پیشنهاد می‌شود نسخه مخصوص CUDA کتابخانه PyTorch را نصب کنید. دستور زیر را اجرا کنید (برای CUDA 12.1):
 
 ```bash 
 pip3 install torch torchvision --index-url https://download.pytorch.org/whl/cu121
 ``` 
 *(اگر کارت گرافیک مجزا ندارید، برنامه به صورت خودکار روی CPU اجرا می‌شود اما ممکن است کمی کندتر باشد.)*
 
 ## نحوه استفاده 
 
 ### 1. اجرای برنامه 
 برای شروع برنامه، دستور زیر را در ترمینال وارد کنید:
 
 ```bash 
 python main.py 
 ``` 
 
 ### 2. معرفی گربه‌ها به سیستم 
 وقتی برنامه باز شد و دوربین روشن شد:
 - **ذخیره گربه اول (Cat A):** گربه اول را جلوی دوربین نگه دارید و کلید **`a`** را روی کیبورد فشار دهید. عکس و مشخصات گربه در پوشه `assets/cat_a` ذخیره می‌شود.
 - **ذخیره گربه دوم (Cat B):** گربه دوم را جلوی دوربین نگه دارید و کلید **`b`** را فشار دهید. مشخصات در `assets/cat_b` ذخیره می‌شود.
 - شما می‌توانید چندین بار از زوایای مختلف عکس بگیرید تا دقت شناسایی بالا برود.
 
 ### 3. عملکرد خودکار 
 پس از ذخیره تصاویر، برنامه به صورت زنده کار می‌کند:
 - دور گربه کادر رنگی می‌کشد.
 - نام گربه (Cat A یا Cat B) را تشخیص می‌دهد.
 - فاصله گربه را تخمین می‌زند.
 - اگر گربه مورد تایید نزدیک شود (فاصله کمتر از 1 متر)، وضعیت به **OPEN** تغییر می‌کند (سبز می‌شود).
 
 ### 4. خروج 
 برای بستن برنامه کلید **`q`** را فشار دهید.
 
 ## نحوه عملکرد (تکنیکال)
 
 این پروژه از ترکیب چندین مدل هوش مصنوعی استفاده می‌کند:
 
 1. **تشخیص اشیاء (YOLOv8):**
    از مدل سریع و قدرتمند YOLO برای پیدا کردن موقعیت گربه در تصویر استفاده می‌شود. این مدل کادر دور گربه (Bounding Box) را مشخص می‌کند.
 
 2. **استخراج ویژگی (ResNet18):**
    تصویر گربه برش داده شده و به مدل ResNet داده می‌شود. این مدل تصویر را به یک بردار عددی (Embedding) تبدیل می‌کند که ویژگی‌های منحصر به فرد چهره و بدن گربه را نشان می‌دهد.
 
 3. **شناسایی (Cosine Similarity):**
    بردار ویژگی گربه جدید با بردارهای ذخیره شده (از گربه A و B) مقایسه می‌شود. اگر شباهت زیاد باشد، هویت گربه تایید می‌شود.
 
 4. **تخمین فاصله:**
    با استفاده از ارتفاع کادر تشخیص داده شده (Bounding Box Height) و یک فرمول ریاضی ساده، فاصله گربه تا دوربین تخمین زده می‌شود. هرچه گربه نزدیک‌تر باشد، کادر بزرگتر است.
 
 </div>
